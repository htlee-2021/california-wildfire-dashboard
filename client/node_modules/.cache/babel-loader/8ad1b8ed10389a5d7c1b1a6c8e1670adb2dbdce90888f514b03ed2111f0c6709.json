{"ast":null,"code":"var _jsxFileName = \"/Users/hongtenglee/Documents/geoviz-dashboard/client/src/components/RadialBarChart.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const RadialBarChart = ({\n  yearlyData,\n  monthlyDataByYear,\n  availableYears,\n  selectedMetric = 'fires' // 'fires' or 'acres'\n}) => {\n  _s();\n  const radialChartRef = useRef(null);\n  const [focusYears, setFocusYears] = useState(5); // Default to showing 5 years\n\n  useEffect(() => {\n    if (monthlyDataByYear && Object.keys(monthlyDataByYear).length > 0) {\n      createRadialBarChart();\n    }\n  }, [monthlyDataByYear, selectedMetric, availableYears, focusYears]);\n  const formatLargeNumber = num => {\n    if (num >= 1000000) {\n      return `${(num / 1000000).toFixed(1)}M`;\n    } else if (num >= 1000) {\n      return `${(num / 1000).toFixed(1)}K`;\n    }\n    return num;\n  };\n  const createRadialBarChart = () => {\n    if (!radialChartRef.current) return;\n\n    // Clear previous chart\n    d3.select(radialChartRef.current).selectAll(\"*\").remove();\n\n    // Prepare data for the radial chart\n    const processedData = [];\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n    // Get the most recent years based on focus selection\n    const sortedYears = [...availableYears].sort((a, b) => b - a);\n    const yearsToShow = sortedYears.slice(0, focusYears);\n\n    // Create data structure for the radial chart\n    yearsToShow.forEach(year => {\n      if (monthlyDataByYear[year]) {\n        months.forEach((month, i) => {\n          const monthData = monthlyDataByYear[year].find(m => m.month === month);\n          if (monthData) {\n            processedData.push({\n              year: year,\n              month: month,\n              monthIndex: i,\n              value: selectedMetric === 'fires' ? monthData.fires : monthData.acres\n            });\n          } else {\n            // Add empty data point if month data is missing\n            processedData.push({\n              year: year,\n              month: month,\n              monthIndex: i,\n              value: 0\n            });\n          }\n        });\n      }\n    });\n\n    // Set dimensions and margins\n    const margin = {\n      top: 60,\n      right: 60,\n      bottom: 60,\n      left: 60\n    };\n    const width = radialChartRef.current.clientWidth || 600;\n    const height = width; // Make it square for better radial visualization\n    const innerRadius = 80;\n    const outerRadius = Math.min(width, height) / 2 - margin.top;\n\n    // Create SVG\n    const svg = d3.select(radialChartRef.current).attr(\"width\", width).attr(\"height\", height).append(\"g\").attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n\n    // Define scales\n    // Angle scale for months\n    const angleScale = d3.scaleLinear().domain([0, 12]).range([Math.PI * 1.5, Math.PI * 3.5]);\n\n    // Radius scale for values\n    const maxValue = d3.max(processedData, d => d.value);\n    const radiusScale = d3.scaleLinear().domain([0, maxValue]).range([innerRadius, outerRadius]);\n\n    // Year scale for color - use a more visually distinguishable color scheme\n    const colorScale = d3.scaleOrdinal().domain(yearsToShow).range(['#3b82f6',\n    // blue\n    '#ef4444',\n    // red\n    '#f59e0b',\n    // amber\n    '#10b981',\n    // emerald\n    '#8b5cf6',\n    // violet\n    '#ec4899',\n    // pink\n    '#6366f1',\n    // indigo\n    '#14b8a6',\n    // teal\n    '#f97316',\n    // orange\n    '#84cc16' // lime\n    ]);\n\n    // Create month axis (circles and labels)\n    const axisCircles = svg.append(\"g\").attr(\"class\", \"axis-circles\");\n\n    // Add concentric circles for value scale\n    axisCircles.selectAll(\"circle\").data(d3.range(1, 6)) // Create 5 concentric circles\n    .enter().append(\"circle\").attr(\"r\", d => innerRadius + d * (outerRadius - innerRadius) / 5).attr(\"fill\", \"none\").attr(\"stroke\", \"#e5e7eb\").attr(\"stroke-dasharray\", \"2,2\").attr(\"stroke-width\", 0.5);\n\n    // Add value labels to circles\n    axisCircles.selectAll(\".radius-label\").data(d3.range(1, 6)).enter().append(\"text\").attr(\"class\", \"radius-label\").attr(\"y\", d => -(innerRadius + d * (outerRadius - innerRadius) / 5)).attr(\"dy\", \"0.35em\").attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"10px\").attr(\"fill\", \"#6b7280\").text(d => {\n      const value = maxValue * (d / 5);\n      return formatLargeNumber(Math.round(value));\n    });\n\n    // Add month segments and labels\n    const monthSegments = svg.append(\"g\").attr(\"class\", \"month-segments\");\n\n    // Add axis lines for months\n    monthSegments.selectAll(\"line\").data(months).enter().append(\"line\").attr(\"x1\", 0).attr(\"y1\", 0).attr(\"x2\", (d, i) => Math.cos(angleScale(i)) * outerRadius).attr(\"y2\", (d, i) => Math.sin(angleScale(i)) * outerRadius).attr(\"stroke\", \"#e5e7eb\").attr(\"stroke-width\", 0.5);\n\n    // Add month labels - position slightly beyond the outer radius\n    svg.selectAll(\".month-label\").data(months).enter().append(\"text\").attr(\"class\", \"month-label\").attr(\"x\", (d, i) => Math.cos(angleScale(i - 3)) * (outerRadius + 20)).attr(\"y\", (d, i) => Math.sin(angleScale(i - 3)) * (outerRadius + 20)).attr(\"dy\", \"0.35em\").attr(\"text-anchor\", (d, i) => {\n      const angle = angleScale(i) % (2 * Math.PI);\n      if (Math.abs(angle - Math.PI / 2) < 0.1 || Math.abs(angle - Math.PI * 3 / 2) < 0.1) return \"middle\";\n      return angle > Math.PI / 2 && angle < Math.PI * 3 / 2 ? \"end\" : \"start\";\n    }).attr(\"font-size\", \"12px\").attr(\"font-weight\", d => {\n      // Highlight summer months to align with the yearly dashboard emphasis\n      return d === 'June' || d === 'July' || d === 'August' || d === 'September' ? \"bold\" : \"normal\";\n    }).attr(\"fill\", d => {\n      // Highlight summer months with different color\n      return d === 'June' || d === 'July' || d === 'August' || d === 'September' ? \"#d97706\" : \"#4b5563\";\n    }).text(d => d.substring(0, 3)); // Just show first 3 letters\n\n    // Highlight summer months with subtle background\n    const summerAngleStart = angleScale(5); // June (index 5)\n    const summerAngleEnd = angleScale(9); // September (index 8)\n\n    const summerArc = d3.arc().innerRadius(innerRadius).outerRadius(outerRadius).startAngle(summerAngleStart).endAngle(summerAngleEnd);\n    svg.append(\"path\").attr(\"d\", summerArc).attr(\"fill\", \"#fef3c7\") // Very light amber\n    .attr(\"stroke\", \"#f59e0b\") // Amber border\n    .attr(\"stroke-width\", 1).attr(\"stroke-dasharray\", \"3,3\").attr(\"fill-opacity\", 0.2);\n\n    // Add \"PEAK FIRE SEASON\" label in the summer section\n    const summerMidAngle = (summerAngleStart + summerAngleEnd) / 2;\n    const labelRadius = innerRadius + (outerRadius - innerRadius) * 0.15;\n    svg.append(\"text\").attr(\"x\", Math.cos(summerMidAngle) * labelRadius).attr(\"y\", Math.sin(summerMidAngle) * labelRadius).attr(\"dy\", \"0.35em\").attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"10px\").attr(\"font-weight\", \"bold\").attr(\"fill\", \"#d97706\").attr(\"transform\", `rotate(${(summerMidAngle + Math.PI / 2) * (180 / Math.PI)}, ${Math.cos(summerMidAngle) * labelRadius}, ${Math.sin(summerMidAngle) * labelRadius})`).text(\"PEAK FIRE SEASON\");\n\n    // Group data by year\n    const dataByYear = d3.group(processedData, d => d.year);\n\n    // Calculate bar width in radians - how wide each month segment will be\n    const barWidth = 2 * Math.PI / 12 * 0.8; // 80% of the month segment\n\n    // Calculate bar spacing between years (within each month segment)\n    const yearBarWidth = barWidth / yearsToShow.length;\n\n    // Create radial bars - we'll use arcs to create bars\n    const barsGroup = svg.append(\"g\").attr(\"class\", \"radial-bars\");\n\n    // For each year and month, create a radial bar\n    yearsToShow.forEach((year, yearIndex) => {\n      const yearData = dataByYear.get(year) || [];\n\n      // Create bars for this year's data\n      yearData.forEach(d => {\n        if (d.value > 0) {\n          // Only draw if there's a value\n          // Calculate the starting angle for this month's segment\n          const monthAngle = angleScale(d.monthIndex);\n\n          // Each year's bar will be positioned within the month's segment\n          // yearIndex determines the position within the segment\n          const barStartAngle = monthAngle - barWidth / 2 + yearIndex * yearBarWidth;\n          const barEndAngle = barStartAngle + yearBarWidth;\n\n          // Create a custom arc for this bar\n          const arc = d3.arc().innerRadius(innerRadius).outerRadius(radiusScale(d.value)).startAngle(barStartAngle).endAngle(barEndAngle);\n\n          // Add the bar\n          barsGroup.append(\"path\").attr(\"d\", arc).attr(\"fill\", colorScale(year)).attr(\"stroke\", \"white\").attr(\"stroke-width\", 0.5).attr(\"opacity\", 0.8).on(\"mouseover\", function (event) {\n            // Highlight the bar on hover\n            d3.select(this).transition().duration(200).attr(\"opacity\", 1);\n\n            // Show tooltip\n            tooltip.transition().duration(200).style(\"opacity\", 0.9);\n            tooltip.html(`\n                <strong>${d.month} ${d.year}</strong><br/>\n                ${selectedMetric === 'fires' ? 'Fires' : 'Acres Burned'}: ${d.value.toLocaleString()}\n              `).style(\"left\", event.pageX + 10 + \"px\").style(\"top\", event.pageY - 28 + \"px\");\n          }).on(\"mouseout\", function () {\n            // Return to normal opacity\n            d3.select(this).transition().duration(200).attr(\"opacity\", 0.8);\n\n            // Hide tooltip\n            tooltip.transition().duration(500).style(\"opacity\", 0);\n          });\n        }\n      });\n    });\n\n    // Add central label\n    svg.append(\"text\").attr(\"text-anchor\", \"middle\").attr(\"dy\", \"0.35em\").attr(\"font-size\", \"14px\").attr(\"font-weight\", \"bold\").text(selectedMetric === 'fires' ? \"Fire Count\" : \"Acres Burned\");\n\n    // Create legend with year labels\n    const legend = svg.append(\"g\").attr(\"class\", \"legend\").attr(\"transform\", `translate(${-width / 2 + 20}, ${-height / 2 + 20})`);\n\n    // Add title above legend\n    legend.append(\"text\").attr(\"x\", 0).attr(\"y\", -15).attr(\"font-size\", \"12px\").attr(\"font-weight\", \"bold\").text(\"Years:\");\n\n    // Create legend items\n    yearsToShow.forEach((year, i) => {\n      // Calculate position - when more than 5 years, make two columns\n      const column = i >= Math.ceil(yearsToShow.length / 2) ? 1 : 0;\n      const row = i % Math.ceil(yearsToShow.length / 2);\n      const legendItem = legend.append(\"g\").attr(\"transform\", `translate(${column * 80}, ${row * 20})`).attr(\"class\", \"legend-item\");\n      legendItem.append(\"rect\").attr(\"width\", 15).attr(\"height\", 15).attr(\"fill\", colorScale(year));\n      legendItem.append(\"text\").attr(\"x\", 20).attr(\"y\", 12).text(year).attr(\"font-size\", \"12px\");\n    });\n\n    // Add title\n    svg.append(\"text\").attr(\"x\", 0).attr(\"y\", -height / 2 + 20).attr(\"text-anchor\", \"middle\").attr(\"font-size\", \"16px\").attr(\"font-weight\", \"bold\").text(`${focusYears}-Year Monthly ${selectedMetric === 'fires' ? 'Fire Counts' : 'Acres Burned'} (${yearsToShow[yearsToShow.length - 1]}-${yearsToShow[0]})`);\n\n    // Create tooltip\n    const tooltip = d3.select(\"body\").selectAll('.tooltip').data([null]).join('div').attr('class', 'tooltip').style('opacity', 0);\n\n    // Find the average max values for summer months\n    const summerMaxes = {};\n    months.slice(5, 9).forEach(month => {\n      // June, July, August, September\n      const monthIndex = months.indexOf(month);\n      const monthData = processedData.filter(d => d.monthIndex === monthIndex);\n      summerMaxes[month] = d3.max(monthData, d => d.value);\n    });\n\n    // Find the peak summer month\n    const peakMonth = Object.entries(summerMaxes).sort((a, b) => b[1] - a[1])[0][0];\n    const peakMonthIndex = months.indexOf(peakMonth);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chart-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"section-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        className: \"section-icon\",\n        viewBox: \"0 0 20 20\",\n        fill: \"currentColor\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          fillRule: \"evenodd\",\n          d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\",\n          clipRule: \"evenodd\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 376,\n        columnNumber: 9\n      }, this), \"Monthly Fire Patterns (Radial Bar Chart)\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-description\",\n      children: [\"This radial bar chart shows the seasonal pattern of \", selectedMetric === 'fires' ? 'fire occurrences' : 'acres burned', \"across multiple years. Each bar represents a month's data for a specific year, with longer bars indicating higher values. The highlighted section shows the peak fire season (June-September).\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"control-panel\",\n      style: {\n        marginBottom: '15px',\n        textAlign: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginRight: '10px',\n          fontWeight: 'medium'\n        },\n        children: \"Years to display:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: focusYears,\n        onChange: e => setFocusYears(Number(e.target.value)),\n        style: {\n          padding: '5px 10px',\n          borderRadius: '4px',\n          border: '1px solid #d1d5db'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: 3,\n          children: \"Last 3 years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 5,\n          children: \"Last 5 years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: 10,\n          children: \"Last 10 years\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-canvas\",\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: radialChartRef,\n        width: \"100%\",\n        height: \"600\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-notes\",\n      style: {\n        marginTop: '15px',\n        fontSize: '0.875rem',\n        color: '#6b7280',\n        fontStyle: 'italic'\n      },\n      children: [\"Note: This visualization shows discrete bars for each year's monthly data, making it easier to compare values accurately. The height of each bar directly represents the number of \", selectedMetric === 'fires' ? 'fires' : 'acres burned', \".\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n};\n_s(RadialBarChart, \"sYVvKjZRV9Hf66WfhzZYCshXUek=\");\n_c = RadialBarChart;\nexport default RadialBarChart;\nvar _c;\n$RefreshReg$(_c, \"RadialBarChart\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","RadialBarChart","yearlyData","monthlyDataByYear","availableYears","selectedMetric","_s","radialChartRef","focusYears","setFocusYears","Object","keys","length","createRadialBarChart","formatLargeNumber","num","toFixed","current","select","selectAll","remove","processedData","months","sortedYears","sort","a","b","yearsToShow","slice","forEach","year","month","i","monthData","find","m","push","monthIndex","value","fires","acres","margin","top","right","bottom","left","width","clientWidth","height","innerRadius","outerRadius","Math","min","svg","attr","append","angleScale","scaleLinear","domain","range","PI","maxValue","max","d","radiusScale","colorScale","scaleOrdinal","axisCircles","data","enter","text","round","monthSegments","cos","sin","angle","abs","substring","summerAngleStart","summerAngleEnd","summerArc","arc","startAngle","endAngle","summerMidAngle","labelRadius","dataByYear","group","barWidth","yearBarWidth","barsGroup","yearIndex","yearData","get","monthAngle","barStartAngle","barEndAngle","on","event","transition","duration","tooltip","style","html","toLocaleString","pageX","pageY","legend","column","ceil","row","legendItem","join","summerMaxes","indexOf","filter","peakMonth","entries","peakMonthIndex","className","children","xmlns","viewBox","fill","fillRule","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","textAlign","marginRight","fontWeight","onChange","e","Number","target","padding","borderRadius","border","display","justifyContent","ref","marginTop","fontSize","color","fontStyle","_c","$RefreshReg$"],"sources":["/Users/hongtenglee/Documents/geoviz-dashboard/client/src/components/RadialBarChart.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\nexport const RadialBarChart = ({ \n  yearlyData, \n  monthlyDataByYear,\n  availableYears,\n  selectedMetric = 'fires' // 'fires' or 'acres'\n}) => {\n  const radialChartRef = useRef(null);\n  const [focusYears, setFocusYears] = useState(5); // Default to showing 5 years\n  \n  useEffect(() => {\n    if (monthlyDataByYear && Object.keys(monthlyDataByYear).length > 0) {\n      createRadialBarChart();\n    }\n  }, [monthlyDataByYear, selectedMetric, availableYears, focusYears]);\n  \n  const formatLargeNumber = (num) => {\n    if (num >= 1000000) {\n      return `${(num / 1000000).toFixed(1)}M`;\n    } else if (num >= 1000) {\n      return `${(num / 1000).toFixed(1)}K`;\n    }\n    return num;\n  };\n  \n  const createRadialBarChart = () => {\n    if (!radialChartRef.current) return;\n    \n    // Clear previous chart\n    d3.select(radialChartRef.current).selectAll(\"*\").remove();\n    \n    // Prepare data for the radial chart\n    const processedData = [];\n    const months = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    \n    // Get the most recent years based on focus selection\n    const sortedYears = [...availableYears].sort((a, b) => b - a);\n    const yearsToShow = sortedYears.slice(0, focusYears);\n    \n    // Create data structure for the radial chart\n    yearsToShow.forEach(year => {\n      if (monthlyDataByYear[year]) {\n        months.forEach((month, i) => {\n          const monthData = monthlyDataByYear[year].find(m => m.month === month);\n          if (monthData) {\n            processedData.push({\n              year: year,\n              month: month,\n              monthIndex: i,\n              value: selectedMetric === 'fires' ? monthData.fires : monthData.acres\n            });\n          } else {\n            // Add empty data point if month data is missing\n            processedData.push({\n              year: year,\n              month: month,\n              monthIndex: i,\n              value: 0\n            });\n          }\n        });\n      }\n    });\n    \n    // Set dimensions and margins\n    const margin = { top: 60, right: 60, bottom: 60, left: 60 };\n    const width = radialChartRef.current.clientWidth || 600;\n    const height = width; // Make it square for better radial visualization\n    const innerRadius = 80;\n    const outerRadius = Math.min(width, height) / 2 - margin.top;\n    \n    // Create SVG\n    const svg = d3.select(radialChartRef.current)\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${width / 2}, ${height / 2})`);\n    \n    // Define scales\n    // Angle scale for months\n    const angleScale = d3.scaleLinear()\n      .domain([0, 12])\n      .range([Math.PI * 1.5, Math.PI * 3.5]);\n    \n    // Radius scale for values\n    const maxValue = d3.max(processedData, d => d.value);\n    const radiusScale = d3.scaleLinear()\n      .domain([0, maxValue])\n      .range([innerRadius, outerRadius]);\n    \n    // Year scale for color - use a more visually distinguishable color scheme\n    const colorScale = d3.scaleOrdinal()\n      .domain(yearsToShow)\n      .range([\n        '#3b82f6', // blue\n        '#ef4444', // red\n        '#f59e0b', // amber\n        '#10b981', // emerald\n        '#8b5cf6', // violet\n        '#ec4899', // pink\n        '#6366f1', // indigo\n        '#14b8a6', // teal\n        '#f97316', // orange\n        '#84cc16'  // lime\n      ]);\n    \n    // Create month axis (circles and labels)\n    const axisCircles = svg.append(\"g\")\n      .attr(\"class\", \"axis-circles\");\n    \n    // Add concentric circles for value scale\n    axisCircles.selectAll(\"circle\")\n      .data(d3.range(1, 6)) // Create 5 concentric circles\n      .enter()\n      .append(\"circle\")\n      .attr(\"r\", d => innerRadius + (d * (outerRadius - innerRadius) / 5))\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", \"#e5e7eb\")\n      .attr(\"stroke-dasharray\", \"2,2\")\n      .attr(\"stroke-width\", 0.5);\n    \n    // Add value labels to circles\n    axisCircles.selectAll(\".radius-label\")\n      .data(d3.range(1, 6))\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"radius-label\")\n      .attr(\"y\", d => -(innerRadius + (d * (outerRadius - innerRadius) / 5)))\n      .attr(\"dy\", \"0.35em\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", \"10px\")\n      .attr(\"fill\", \"#6b7280\")\n      .text(d => {\n        const value = maxValue * (d / 5);\n        return formatLargeNumber(Math.round(value));\n      });\n    \n    // Add month segments and labels\n    const monthSegments = svg.append(\"g\")\n      .attr(\"class\", \"month-segments\");\n    \n    // Add axis lines for months\n    monthSegments.selectAll(\"line\")\n      .data(months)\n      .enter()\n      .append(\"line\")\n      .attr(\"x1\", 0)\n      .attr(\"y1\", 0)\n      .attr(\"x2\", (d, i) => Math.cos(angleScale(i)) * outerRadius)\n      .attr(\"y2\", (d, i) => Math.sin(angleScale(i)) * outerRadius)\n      .attr(\"stroke\", \"#e5e7eb\")\n      .attr(\"stroke-width\", 0.5);\n    \n    // Add month labels - position slightly beyond the outer radius\n    svg.selectAll(\".month-label\")\n      .data(months)\n      .enter()\n      .append(\"text\")\n      .attr(\"class\", \"month-label\")\n      .attr(\"x\", (d, i) => Math.cos(angleScale(i-3)) * (outerRadius + 20))\n      .attr(\"y\", (d, i) => Math.sin(angleScale(i-3)) * (outerRadius + 20))\n      .attr(\"dy\", \"0.35em\")\n      .attr(\"text-anchor\", (d, i) => {\n        const angle = angleScale(i) % (2 * Math.PI);\n        if (Math.abs(angle - Math.PI/2) < 0.1 || Math.abs(angle - Math.PI*3/2) < 0.1) return \"middle\";\n        return (angle > Math.PI/2 && angle < Math.PI*3/2) ? \"end\" : \"start\";\n      })\n      .attr(\"font-size\", \"12px\")\n      .attr(\"font-weight\", (d) => {\n        // Highlight summer months to align with the yearly dashboard emphasis\n        return (d === 'June' || d === 'July' || d === 'August' || d === 'September') ? \"bold\" : \"normal\";\n      })\n      .attr(\"fill\", (d) => {\n        // Highlight summer months with different color\n        return (d === 'June' || d === 'July' || d === 'August' || d === 'September') ? \"#d97706\" : \"#4b5563\";\n      })\n      .text(d => d.substring(0, 3)); // Just show first 3 letters\n    \n    // Highlight summer months with subtle background\n    const summerAngleStart = angleScale(5);  // June (index 5)\n    const summerAngleEnd = angleScale(9); // September (index 8)\n    \n    const summerArc = d3.arc()\n      .innerRadius(innerRadius)\n      .outerRadius(outerRadius)\n      .startAngle(summerAngleStart)\n      .endAngle(summerAngleEnd);\n    \n    svg.append(\"path\")\n      .attr(\"d\", summerArc)\n      .attr(\"fill\", \"#fef3c7\") // Very light amber\n      .attr(\"stroke\", \"#f59e0b\") // Amber border\n      .attr(\"stroke-width\", 1)\n      .attr(\"stroke-dasharray\", \"3,3\")\n      .attr(\"fill-opacity\", 0.2);\n    \n    // Add \"PEAK FIRE SEASON\" label in the summer section\n    const summerMidAngle = (summerAngleStart + summerAngleEnd) / 2;\n    const labelRadius = innerRadius + (outerRadius - innerRadius) * 0.15;\n    \n    svg.append(\"text\")\n      .attr(\"x\", Math.cos(summerMidAngle) * labelRadius)\n      .attr(\"y\", Math.sin(summerMidAngle) * labelRadius)\n      .attr(\"dy\", \"0.35em\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", \"10px\")\n      .attr(\"font-weight\", \"bold\")\n      .attr(\"fill\", \"#d97706\")\n      .attr(\"transform\", `rotate(${(summerMidAngle + Math.PI/2) * (180/Math.PI)}, ${Math.cos(summerMidAngle) * labelRadius}, ${Math.sin(summerMidAngle) * labelRadius})`)\n      .text(\"PEAK FIRE SEASON\");\n    \n    // Group data by year\n    const dataByYear = d3.group(processedData, d => d.year);\n    \n    // Calculate bar width in radians - how wide each month segment will be\n    const barWidth = (2 * Math.PI) / 12 * 0.8; // 80% of the month segment\n    \n    // Calculate bar spacing between years (within each month segment)\n    const yearBarWidth = barWidth / yearsToShow.length;\n    \n    // Create radial bars - we'll use arcs to create bars\n    const barsGroup = svg.append(\"g\")\n      .attr(\"class\", \"radial-bars\");\n    \n    // For each year and month, create a radial bar\n    yearsToShow.forEach((year, yearIndex) => {\n      const yearData = dataByYear.get(year) || [];\n      \n      // Create bars for this year's data\n      yearData.forEach(d => {\n        if (d.value > 0) { // Only draw if there's a value\n          // Calculate the starting angle for this month's segment\n          const monthAngle = angleScale(d.monthIndex);\n          \n          // Each year's bar will be positioned within the month's segment\n          // yearIndex determines the position within the segment\n          const barStartAngle = monthAngle - (barWidth / 2) + (yearIndex * yearBarWidth);\n          const barEndAngle = barStartAngle + yearBarWidth;\n          \n          // Create a custom arc for this bar\n          const arc = d3.arc()\n            .innerRadius(innerRadius)\n            .outerRadius(radiusScale(d.value))\n            .startAngle(barStartAngle)\n            .endAngle(barEndAngle);\n          \n          // Add the bar\n          barsGroup.append(\"path\")\n            .attr(\"d\", arc)\n            .attr(\"fill\", colorScale(year))\n            .attr(\"stroke\", \"white\")\n            .attr(\"stroke-width\", 0.5)\n            .attr(\"opacity\", 0.8)\n            .on(\"mouseover\", function(event) {\n              // Highlight the bar on hover\n              d3.select(this)\n                .transition()\n                .duration(200)\n                .attr(\"opacity\", 1);\n              \n              // Show tooltip\n              tooltip.transition()\n                .duration(200)\n                .style(\"opacity\", 0.9);\n              \n              tooltip.html(`\n                <strong>${d.month} ${d.year}</strong><br/>\n                ${selectedMetric === 'fires' ? 'Fires' : 'Acres Burned'}: ${d.value.toLocaleString()}\n              `)\n                .style(\"left\", (event.pageX + 10) + \"px\")\n                .style(\"top\", (event.pageY - 28) + \"px\");\n            })\n            .on(\"mouseout\", function() {\n              // Return to normal opacity\n              d3.select(this)\n                .transition()\n                .duration(200)\n                .attr(\"opacity\", 0.8);\n              \n              // Hide tooltip\n              tooltip.transition()\n                .duration(500)\n                .style(\"opacity\", 0);\n            });\n        }\n      });\n    });\n    \n    // Add central label\n    svg.append(\"text\")\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"dy\", \"0.35em\")\n      .attr(\"font-size\", \"14px\")\n      .attr(\"font-weight\", \"bold\")\n      .text(selectedMetric === 'fires' ? \"Fire Count\" : \"Acres Burned\");\n    \n    // Create legend with year labels\n    const legend = svg.append(\"g\")\n      .attr(\"class\", \"legend\")\n      .attr(\"transform\", `translate(${-width/2 + 20}, ${-height/2 + 20})`);\n    \n    // Add title above legend\n    legend.append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", -15)\n      .attr(\"font-size\", \"12px\")\n      .attr(\"font-weight\", \"bold\")\n      .text(\"Years:\");\n    \n    // Create legend items\n    yearsToShow.forEach((year, i) => {\n      // Calculate position - when more than 5 years, make two columns\n      const column = i >= Math.ceil(yearsToShow.length / 2) ? 1 : 0;\n      const row = i % Math.ceil(yearsToShow.length / 2);\n      \n      const legendItem = legend.append(\"g\")\n        .attr(\"transform\", `translate(${column * 80}, ${row * 20})`)\n        .attr(\"class\", \"legend-item\");\n      \n      legendItem.append(\"rect\")\n        .attr(\"width\", 15)\n        .attr(\"height\", 15)\n        .attr(\"fill\", colorScale(year));\n      \n      legendItem.append(\"text\")\n        .attr(\"x\", 20)\n        .attr(\"y\", 12)\n        .text(year)\n        .attr(\"font-size\", \"12px\");\n    });\n    \n    // Add title\n    svg.append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", -height/2 + 20)\n      .attr(\"text-anchor\", \"middle\")\n      .attr(\"font-size\", \"16px\")\n      .attr(\"font-weight\", \"bold\")\n      .text(`${focusYears}-Year Monthly ${selectedMetric === 'fires' ? 'Fire Counts' : 'Acres Burned'} (${yearsToShow[yearsToShow.length-1]}-${yearsToShow[0]})`);\n    \n    // Create tooltip\n    const tooltip = d3.select(\"body\")\n      .selectAll('.tooltip')\n      .data([null])\n      .join('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n    \n    // Find the average max values for summer months\n    const summerMaxes = {};\n    months.slice(5, 9).forEach(month => { // June, July, August, September\n      const monthIndex = months.indexOf(month);\n      const monthData = processedData.filter(d => d.monthIndex === monthIndex);\n      summerMaxes[month] = d3.max(monthData, d => d.value);\n    });\n    \n    // Find the peak summer month\n    const peakMonth = Object.entries(summerMaxes)\n      .sort((a, b) => b[1] - a[1])[0][0];\n    const peakMonthIndex = months.indexOf(peakMonth);\n    \n    \n    \n    \n    \n  };\n  \n  return (\n    <div className=\"chart-container\">\n      <h3 className=\"section-title\">\n        <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"section-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n          <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z\" clipRule=\"evenodd\" />\n        </svg>\n        Monthly Fire Patterns (Radial Bar Chart)\n      </h3>\n      <div className=\"chart-description\">\n        This radial bar chart shows the seasonal pattern of {selectedMetric === 'fires' ? 'fire occurrences' : 'acres burned'} \n        across multiple years. Each bar represents a month's data for a specific year, with longer bars indicating higher values.\n        The highlighted section shows the peak fire season (June-September).\n      </div>\n      \n      <div className=\"control-panel\" style={{ marginBottom: '15px', textAlign: 'center' }}>\n        <label style={{ marginRight: '10px', fontWeight: 'medium' }}>\n          Years to display:\n        </label>\n        <select \n          value={focusYears} \n          onChange={(e) => setFocusYears(Number(e.target.value))}\n          style={{ \n            padding: '5px 10px', \n            borderRadius: '4px', \n            border: '1px solid #d1d5db' \n          }}\n        >\n          <option value={3}>Last 3 years</option>\n          <option value={5}>Last 5 years</option>\n          <option value={10}>Last 10 years</option>\n        </select>\n      </div>\n      \n      <div className=\"chart-canvas\" style={{ display: 'flex', justifyContent: 'center' }}>\n        <svg ref={radialChartRef} width=\"100%\" height=\"600\"></svg>\n      </div>\n      \n      <div className=\"chart-notes\" style={{ marginTop: '15px', fontSize: '0.875rem', color: '#6b7280', fontStyle: 'italic' }}>\n        Note: This visualization shows discrete bars for each year's monthly data, making it easier to compare values accurately.\n        The height of each bar directly represents the number of {selectedMetric === 'fires' ? 'fires' : 'acres burned'}.\n      </div>\n    </div>\n  );\n};\n\nexport default RadialBarChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}