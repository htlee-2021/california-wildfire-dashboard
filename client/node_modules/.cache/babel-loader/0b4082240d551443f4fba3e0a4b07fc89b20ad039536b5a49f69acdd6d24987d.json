{"ast":null,"code":"var _jsxFileName = \"/Users/hongtenglee/Documents/geoviz-dashboard/client/src/components/FireCauseAnalysisDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FireCauseAnalysisDashboard = ({\n  causesData,\n  topCauses,\n  causeDefinitions,\n  selectedYear,\n  availableYears,\n  onYearChange,\n  onRefresh\n}) => {\n  _s();\n  const topCausesChartRef = useRef(null);\n  const causesByYearChartRef = useRef(null);\n  const monthlyCausesChartRef = useRef(null);\n  const [selectedCause, setSelectedCause] = useState(null);\n  const [showAllCauses, setShowAllCauses] = useState(false);\n  useEffect(() => {\n    if (topCauses && topCauses.length > 0) {\n      createTopCausesChart();\n    }\n  }, [topCauses, showAllCauses]);\n  useEffect(() => {\n    if (causesData && selectedYear && causesData[selectedYear]) {\n      createCausesByYearChart();\n      createMonthlyCausesChart();\n    }\n  }, [causesData, selectedYear, selectedCause]);\n\n  // Format large numbers\n  const formatLargeNumber = num => {\n    if (num >= 1000000) {\n      return `${(num / 1000000).toFixed(1)}M`;\n    } else if (num >= 1000) {\n      return `${(num / 1000).toFixed(1)}K`;\n    }\n    return num;\n  };\n  const getColorScale = () => {\n    return d3.scaleOrdinal().domain([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]).range(['#e6194B', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', '#42d4f4', '#f032e6', '#bfef45', '#fabed4', '#469990', '#dcbeff', '#9A6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075']);\n  };\n  const getCauseColor = causeId => {\n    const colorScale = getColorScale();\n    return colorScale(causeId);\n  };\n  const createTopCausesChart = () => {\n    if (!topCausesChartRef.current) return;\n\n    // Clear any existing chart\n    d3.select(topCausesChartRef.current).selectAll('*').remove();\n    const margin = {\n      top: 50,\n      right: 120,\n      bottom: 60,\n      left: 80\n    };\n    const svgElement = topCausesChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 800, 800);\n    const height = 450;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgElement).attr('width', width).attr('height', height).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Determine how many causes to show\n    const visibleCauses = showAllCauses ? topCauses : topCauses.slice(0, 8);\n\n    // Define scales\n    const xScale = d3.scaleBand().domain(visibleCauses.map(d => d.causeId)).range([0, chartWidth]).padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(visibleCauses, d => d.fires) * 1.1]).range([chartHeight, 0]);\n\n    // Create axes\n    svg.append('g').attr('transform', `translate(0,${chartHeight})`).call(d3.axisBottom(xScale).tickFormat(d => {\n      const cause = visibleCauses.find(c => c.causeId === d);\n      return cause ? cause.causeId : '';\n    })).selectAll('text').attr('transform', 'rotate(-45)').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em');\n    svg.append('g').call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n\n    // Add grid lines\n    svg.append('g').attr('class', 'grid-lines').selectAll('line').data(yScale.ticks()).enter().append('line').attr('x1', 0).attr('y1', d => yScale(d)).attr('x2', chartWidth).attr('y2', d => yScale(d)).attr('stroke', '#e5e7eb').attr('stroke-dasharray', '3,3');\n\n    // Add bars\n    svg.selectAll('bars').data(visibleCauses).enter().append('rect').attr('x', d => xScale(d.causeId)).attr('y', d => yScale(d.fires)).attr('width', xScale.bandwidth()).attr('height', d => chartHeight - yScale(d.fires)).attr('fill', d => getCauseColor(d.causeId)).attr('rx', 4).attr('ry', 4);\n\n    // Add percentage labels above bars\n    svg.selectAll('percent-labels').data(visibleCauses).enter().append('text').attr('x', d => xScale(d.causeId) + xScale.bandwidth() / 2).attr('y', d => yScale(d.fires) - 10).attr('text-anchor', 'middle').text(d => `${d.percentage}%`).style('font-size', '12px').style('font-weight', 'bold');\n\n    // Add legend\n    const legend = svg.append('g').attr('class', 'legend').attr('transform', `translate(${chartWidth + 10}, 0)`);\n    visibleCauses.forEach((cause, i) => {\n      const legendItem = legend.append('g').attr('transform', `translate(0, ${i * 20})`);\n      legendItem.append('rect').attr('width', 12).attr('height', 12).attr('fill', getCauseColor(cause.causeId));\n      legendItem.append('text').attr('x', 20).attr('y', 10).text(`${cause.causeId} - ${cause.causeName}`).style('font-size', '12px');\n    });\n\n    // Add title\n    svg.append('text').attr('x', chartWidth / 2).attr('y', -30).attr('text-anchor', 'middle').style('font-size', '16px').style('font-weight', 'bold').text('Top Fire Causes by Number of Fires');\n\n    // Create tooltip\n    const tooltip = d3.select('body').selectAll('.tooltip').data([null]).join('div').attr('class', 'tooltip').style('opacity', 0);\n\n    // Add hover effects with safe access to properties\n    svg.selectAll('rect').on('mouseover', function (event, d) {\n      try {\n        if (!d) return;\n        d3.select(this).transition().duration(200).attr('opacity', 0.8);\n        tooltip.transition().duration(200).style('opacity', 0.9);\n        tooltip.html(`\n            <strong>${d.causeId} - ${d.causeName}</strong><br/>\n            Fires: ${d.fires.toLocaleString()}<br/>\n            Acres Burned: ${d.acres.toLocaleString()}<br/>\n            Percentage: ${d.percentage}%\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      } catch (error) {\n        console.error('Error in top causes chart hover:', error);\n      }\n    }).on('mouseout', function () {\n      d3.select(this).transition().duration(200).attr('opacity', 1);\n      tooltip.transition().duration(500).style('opacity', 0);\n    });\n\n    // Add a button to show/hide all causes\n    d3.select(svgElement.parentNode).selectAll('.toggle-button').data([null]).join('button').attr('class', 'toggle-button refresh-button').style('margin-top', '10px').style('margin-left', '10px').text(showAllCauses ? 'Show Top 8 Causes' : 'Show All Causes').on('click', function () {\n      setShowAllCauses(!showAllCauses);\n    });\n  };\n  const createCausesByYearChart = () => {\n    if (!causesByYearChartRef.current || !causesData || !selectedYear || !causesData[selectedYear]) return;\n\n    // Clear any existing chart\n    d3.select(causesByYearChartRef.current).selectAll('*').remove();\n    const yearData = causesData[selectedYear].causes;\n    if (!yearData || yearData.length === 0) return;\n    const margin = {\n      top: 50,\n      right: 120,\n      bottom: 100,\n      left: 80\n    };\n    const svgElement = causesByYearChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 900, 800);\n    const height = 400;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgElement).attr('width', width).attr('height', height).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Determine how many causes to show (show top 8 causes for this year)\n    const visibleCauses = yearData.slice(0, 8);\n\n    // Define scales\n    const xScale = d3.scaleBand().domain(visibleCauses.map(d => d.causeId)).range([0, chartWidth]).padding(0.2);\n    const yScale = d3.scaleLinear().domain([0, d3.max(visibleCauses, d => d.fires) * 1.1]).range([chartHeight, 0]);\n\n    // Create axes\n    svg.append('g').attr('transform', `translate(0,${chartHeight})`).call(d3.axisBottom(xScale).tickFormat(d => {\n      const cause = visibleCauses.find(c => c.causeId === d);\n      return cause ? cause.causeId : '';\n    })).selectAll('text').attr('transform', 'rotate(-45)').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em');\n    svg.append('g').call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n\n    // Add grid lines\n    svg.append('g').attr('class', 'grid-lines').selectAll('line').data(yScale.ticks()).enter().append('line').attr('x1', 0).attr('y1', d => yScale(d)).attr('x2', chartWidth).attr('y2', d => yScale(d)).attr('stroke', '#e5e7eb').attr('stroke-dasharray', '3,3');\n\n    // Add bars\n    svg.selectAll('bars').data(visibleCauses).enter().append('rect').attr('x', d => xScale(d.causeId)).attr('y', d => yScale(d.fires)).attr('width', xScale.bandwidth()).attr('height', d => chartHeight - yScale(d.fires)).attr('fill', d => getCauseColor(d.causeId)).attr('rx', 4).attr('ry', 4).attr('cursor', 'pointer').on('click', (event, d) => {\n      try {\n        if (!d) return;\n        setSelectedCause(selectedCause === d.causeId ? null : d.causeId);\n      } catch (error) {\n        console.error('Error handling click:', error);\n      }\n    });\n\n    // Highlight the selected cause\n    if (selectedCause) {\n      svg.selectAll('rect').attr('opacity', d => {\n        try {\n          return d.causeId === selectedCause ? 1 : 0.3;\n        } catch (error) {\n          return 1;\n        }\n      });\n    }\n\n    // Add legend\n    const legend = svg.append('g').attr('class', 'legend').attr('transform', `translate(${chartWidth + 10}, 0)`);\n    visibleCauses.forEach((cause, i) => {\n      const legendItem = legend.append('g').attr('transform', `translate(0, ${i * 20})`);\n      legendItem.append('rect').attr('width', 12).attr('height', 12).attr('fill', getCauseColor(cause.causeId));\n      legendItem.append('text').attr('x', 20).attr('y', 10).text(`${cause.causeId} - ${cause.causeName}`).style('font-size', '12px');\n    });\n\n    // Add title\n    svg.append('text').attr('x', chartWidth / 2).attr('y', -30).attr('text-anchor', 'middle').style('font-size', '16px').style('font-weight', 'bold').text(`Top Fire Causes in ${selectedYear} (click to filter monthly chart)`);\n\n    // Create tooltip\n    const tooltip = d3.select('body').selectAll('.tooltip').data([null]).join('div').attr('class', 'tooltip').style('opacity', 0);\n\n    // Add hover effects with defensive coding\n    svg.selectAll('rect').on('mouseover', function (event, d) {\n      try {\n        if (!d) return;\n        d3.select(this).transition().duration(200).attr('opacity', d.causeId === selectedCause ? 1 : 0.5);\n        tooltip.transition().duration(200).style('opacity', 0.9);\n        const totalFires = yearData.reduce((sum, cause) => sum + cause.fires, 0);\n        const percentage = Math.round(d.fires / totalFires * 1000) / 10;\n        tooltip.html(`\n            <strong>${d.causeId} - ${d.causeName}</strong><br/>\n            Fires: ${d.fires.toLocaleString()}<br/>\n            Acres Burned: ${d.acres.toLocaleString()}<br/>\n            Percentage: ${percentage}%<br/>\n            Click to filter monthly chart\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      } catch (error) {\n        console.error('Error in yearly causes chart hover:', error);\n      }\n    }).on('mouseout', function (event, d) {\n      try {\n        if (!d) return;\n        d3.select(this).transition().duration(200).attr('opacity', d.causeId === selectedCause ? 1 : selectedCause ? 0.3 : 1);\n        tooltip.transition().duration(500).style('opacity', 0);\n      } catch (error) {\n        console.error('Error in mouseout handler:', error);\n      }\n    });\n  };\n  const createMonthlyCausesChart = () => {\n    if (!monthlyCausesChartRef.current || !causesData || !selectedYear || !causesData[selectedYear]) return;\n\n    // Clear any existing chart\n    d3.select(monthlyCausesChartRef.current).selectAll('*').remove();\n    const yearData = causesData[selectedYear];\n    if (!yearData || !yearData.monthlyBreakdown) return;\n    const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n\n    // Prepare data for stacked bar chart\n    const monthlyCausesData = months.map(month => {\n      const monthData = {\n        month\n      };\n\n      // Get monthly causes data\n      const monthCauses = yearData.monthlyBreakdown[month] || [];\n\n      // If a cause is selected, only include that cause\n      if (selectedCause !== null) {\n        const selectedCauseData = monthCauses.find(c => c.causeId === selectedCause);\n        if (selectedCauseData) {\n          monthData[selectedCauseData.causeId] = selectedCauseData.fires;\n        } else {\n          monthData[selectedCause] = 0;\n        }\n      } else {\n        // Otherwise include top 5 causes for this year\n        const topCausesForYear = yearData.causes.slice(0, 5).map(c => c.causeId);\n        topCausesForYear.forEach(causeId => {\n          const causeData = monthCauses.find(c => c.causeId === causeId);\n          monthData[causeId] = causeData ? causeData.fires : 0;\n        });\n      }\n      return monthData;\n    });\n\n    // Get cause IDs to stack\n    const causeIds = selectedCause !== null ? [selectedCause] : yearData.causes.slice(0, 5).map(c => c.causeId);\n    const margin = {\n      top: 40,\n      right: 80,\n      bottom: 120,\n      left: 80\n    };\n    const svgElement = monthlyCausesChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 800, 800);\n    const height = 400;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n\n    // Create SVG\n    const svg = d3.select(svgElement).attr('width', width).attr('height', height).append('g').attr('transform', `translate(${margin.left},${margin.top})`);\n\n    // Define scales\n    const xScale = d3.scaleBand().domain(months).range([0, chartWidth]).padding(0.1);\n    const yScale = d3.scaleLinear().domain([0, d3.max(monthlyCausesData, d => {\n      return d3.sum(causeIds, causeId => d[causeId] || 0);\n    }) * 1.1]).range([chartHeight, 0]);\n\n    // Create stacked data\n    const stack = d3.stack().keys(causeIds).order(d3.stackOrderNone).offset(d3.stackOffsetNone);\n    const stackedData = stack(monthlyCausesData);\n\n    // Create axes\n    svg.append('g').attr('transform', `translate(0,${chartHeight})`).call(d3.axisBottom(xScale)).selectAll('text').attr('transform', 'rotate(-45)').style('text-anchor', 'end').attr('dx', '-.8em').attr('dy', '.15em').style('font-size', '10px');\n    svg.append('g').call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n\n    // Add grid lines\n    svg.append('g').attr('class', 'grid-lines').selectAll('line').data(yScale.ticks()).enter().append('line').attr('x1', 0).attr('y1', d => yScale(d)).attr('x2', chartWidth).attr('y2', d => yScale(d)).attr('stroke', '#e5e7eb').attr('stroke-dasharray', '3,3');\n\n    // Add stacked bars\n    const stackGroups = svg.append('g').selectAll('g').data(stackedData).enter().append('g').attr('fill', d => getCauseColor(parseInt(d.key)));\n\n    // Store the stack group key in a data attribute for easier access in event handlers\n    stackGroups.each(function (d) {\n      d3.select(this).attr('data-key', d.key);\n    });\n    stackGroups.selectAll('rect').data(d => d).enter().append('rect').attr('x', d => xScale(d.data.month)).attr('y', d => yScale(d[1])).attr('height', d => yScale(d[0]) - yScale(d[1])).attr('width', xScale.bandwidth());\n\n    // Add legend\n    const legend = svg.append('g').attr('class', 'legend').attr('transform', `translate(${chartWidth + 10}, 0)`);\n    causeIds.forEach((causeId, i) => {\n      const cause = yearData.causes.find(c => c.causeId === causeId) || {\n        causeId,\n        causeName: causeDefinitions[causeId] || `Unknown (${causeId})`\n      };\n      const legendItem = legend.append('g').attr('transform', `translate(0, ${i * 20})`);\n      legendItem.append('rect').attr('width', 12).attr('height', 12).attr('fill', getCauseColor(causeId));\n      legendItem.append('text').attr('x', 20).attr('y', 10).text(`${causeId} - ${cause.causeName}`).style('font-size', '12px');\n    });\n\n    // Add title with more space\n    svg.append('text').attr('x', chartWidth / 2).attr('y', -30).attr('text-anchor', 'middle').style('font-size', '16px').style('font-weight', 'bold').text(selectedCause ? `Monthly Distribution of \"${causeDefinitions[selectedCause]}\" Fires in ${selectedYear}` : `Monthly Distribution of Top Fire Causes in ${selectedYear}`);\n\n    // Create tooltip\n    const tooltip = d3.select('body').selectAll('.tooltip').data([null]).join('div').attr('class', 'tooltip').style('opacity', 0);\n\n    // Enhanced hover event handlers with error handling\n    svg.selectAll('rect').on('mouseover', function (event, d) {\n      try {\n        if (!d || !d.data) return;\n        d3.select(this).transition().duration(200).attr('opacity', 0.8);\n\n        // Get the cause ID from the parent group's data-key attribute\n        const parentGroup = this.parentNode;\n        if (!parentGroup) return;\n        const causeIdStr = d3.select(parentGroup).attr('data-key');\n        if (!causeIdStr) return;\n        const causeId = parseInt(causeIdStr);\n        const causeName = causeDefinitions[causeId] || `Unknown (${causeId})`;\n        const monthData = d.data;\n        tooltip.transition().duration(200).style('opacity', 0.9);\n        tooltip.html(`\n            <strong>${monthData.month} ${selectedYear}</strong><br/>\n            Cause: ${causeId} - ${causeName}<br/>\n            Fires: ${(monthData[causeId] || 0).toLocaleString()}\n          `).style('left', event.pageX + 10 + 'px').style('top', event.pageY - 28 + 'px');\n      } catch (error) {\n        console.error('Error in monthly causes chart hover:', error);\n      }\n    }).on('mouseout', function () {\n      d3.select(this).transition().duration(200).attr('opacity', 1);\n      tooltip.transition().duration(500).style('opacity', 0);\n    });\n\n    // Add a button to clear the selected cause filter\n    if (selectedCause !== null) {\n      d3.select(svgElement.parentNode).selectAll('.clear-filter-button').data([null]).join('button').attr('class', 'clear-filter-button refresh-button').style('margin-top', '10px').style('margin-left', '10px').text('Clear Cause Filter').on('click', function () {\n        setSelectedCause(null);\n      });\n    }\n  };\n\n  // Create a table of fire causes with their descriptions\n  const renderCauseDefinitionsTable = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"section-icon\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this), \"Fire Cause Reference Guide\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-description\",\n        children: \"Reference of fire cause codes and their definitions as per CAL FIRE classification.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-table\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"monthly-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 679,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Cause Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 680,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 681,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 678,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 677,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: Object.entries(causeDefinitions).map(([code, name]) => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: code\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 688,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getCauseDescription(parseInt(code))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 689,\n                columnNumber: 19\n              }, this)]\n            }, code, true, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 675,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Helper function to provide descriptions for fire causes\n  const getCauseDescription = causeId => {\n    switch (causeId) {\n      case 1:\n        return \"Fires caused by natural lightning strikes.\";\n      case 2:\n        return \"Fires caused by equipment use, such as chainsaws, tractors, or other machinery.\";\n      case 3:\n        return \"Fires caused by improperly discarded cigarettes, cigars, or other smoking materials.\";\n      case 4:\n        return \"Fires that escape from recreational or warming campfires.\";\n      case 5:\n        return \"Fires from burning of yard waste or other debris that escape control.\";\n      case 6:\n        return \"Fires caused by railroad operations, such as sparks from train wheels or maintenance.\";\n      case 7:\n        return \"Fires intentionally set by individuals with malicious intent.\";\n      case 8:\n        return \"Fires caused by children or others playing with matches, lighters, or fire.\";\n      case 9:\n        return \"Fires that don't fall into other specific categories.\";\n      case 10:\n        return \"Fires caused by vehicles, including exhaust systems, catalytic converters, or accidents.\";\n      case 11:\n        return \"Fires caused by electrical power lines or related equipment.\";\n      case 12:\n        return \"Fires that occur during official firefighter training exercises.\";\n      case 13:\n        return \"Fires that occur during non-firefighter training exercises or activities.\";\n      case 14:\n        return \"Fires where the cause could not be determined after investigation.\";\n      case 15:\n        return \"Fires that start from structures and spread to wildland areas.\";\n      case 16:\n        return \"Fires caused by aircraft crashes or related incidents.\";\n      case 17:\n        return \"Fires caused by volcanic activity.\";\n      case 18:\n        return \"Controlled burns that escape their intended boundaries.\";\n      case 19:\n        return \"Fires specifically linked to campfires made by undocumented immigrants.\";\n      default:\n        return \"No description available.\";\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fire-causes-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"dashboard-title\",\n        children: \"Fire Cause Analysis Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"dashboard-description\",\n        children: \"Analysis of wildfire causes across years and seasons, identifying top contributors to fire ignitions\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 727,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"year-selection-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"year-selector\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cause-year-select\",\n          className: \"year-selector-label\",\n          children: \"Select Year for Analysis:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"cause-year-select\",\n          className: \"year-selector-dropdown\",\n          value: selectedYear || '',\n          onChange: e => onYearChange(e.target.value),\n          disabled: availableYears.length === 0,\n          children: availableYears.map(year => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: year,\n            children: year\n          }, year, false, {\n            fileName: _jsxFileName,\n            lineNumber: 746,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 738,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"year-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"year-summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-label\",\n            children: \"Selected Year:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-value\",\n            children: selectedYear || 'All Years'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 11\n        }, this), selectedCause && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"year-summary-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-label\",\n            children: \"Filtered Cause:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-value\",\n            children: selectedCause\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"refresh-button-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"refresh-button\",\n            onClick: onRefresh,\n            children: \"Refresh Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 753,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 735,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"section-icon\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 774,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 13\n        }, this), \"Top Fire Causes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 772,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-description\",\n        children: \"Analysis of the top fire causes based on the number of fires and acres burned.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 778,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: topCausesChartRef,\n        className: \"chart-svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 781,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 771,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"section-icon\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 786,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 13\n        }, this), \"Top Fire Causes by Year\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 784,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-description\",\n        children: \"Analysis of the top fire causes for the selected year.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 790,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: causesByYearChartRef,\n        className: \"chart-svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 783,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"section-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          className: \"section-icon\",\n          viewBox: \"0 0 20 20\",\n          fill: \"currentColor\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            fillRule: \"evenodd\",\n            d: \"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\",\n            clipRule: \"evenodd\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 797,\n          columnNumber: 13\n        }, this), \"Monthly Fire Causes\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 796,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chart-description\",\n        children: \"Monthly breakdown of fire causes for the selected year.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 802,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        ref: monthlyCausesChartRef,\n        className: \"chart-svg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 805,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 795,\n      columnNumber: 9\n    }, this), renderCauseDefinitionsTable()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 726,\n    columnNumber: 5\n  }, this);\n};\n_s(FireCauseAnalysisDashboard, \"stT7Xb7RKFq8s/NTdjajKkEhPa8=\");\n_c = FireCauseAnalysisDashboard;\nexport default FireCauseAnalysisDashboard;\nvar _c;\n$RefreshReg$(_c, \"FireCauseAnalysisDashboard\");","map":{"version":3,"names":["React","useEffect","useRef","useState","d3","jsxDEV","_jsxDEV","FireCauseAnalysisDashboard","causesData","topCauses","causeDefinitions","selectedYear","availableYears","onYearChange","onRefresh","_s","topCausesChartRef","causesByYearChartRef","monthlyCausesChartRef","selectedCause","setSelectedCause","showAllCauses","setShowAllCauses","length","createTopCausesChart","createCausesByYearChart","createMonthlyCausesChart","formatLargeNumber","num","toFixed","getColorScale","scaleOrdinal","domain","range","getCauseColor","causeId","colorScale","current","select","selectAll","remove","margin","top","right","bottom","left","svgElement","width","Math","max","clientWidth","height","chartWidth","chartHeight","svg","attr","append","visibleCauses","slice","xScale","scaleBand","map","d","padding","yScale","scaleLinear","fires","call","axisBottom","tickFormat","cause","find","c","style","axisLeft","data","ticks","enter","bandwidth","text","percentage","legend","forEach","i","legendItem","causeName","tooltip","join","on","event","transition","duration","html","toLocaleString","acres","pageX","pageY","error","console","parentNode","yearData","causes","totalFires","reduce","sum","round","monthlyBreakdown","months","monthlyCausesData","month","monthData","monthCauses","selectedCauseData","topCausesForYear","causeData","causeIds","stack","keys","order","stackOrderNone","offset","stackOffsetNone","stackedData","stackGroups","parseInt","key","each","parentGroup","causeIdStr","renderCauseDefinitionsTable","className","children","xmlns","viewBox","fill","fillRule","clipRule","fileName","_jsxFileName","lineNumber","columnNumber","Object","entries","code","name","getCauseDescription","htmlFor","id","value","onChange","e","target","disabled","year","onClick","ref","_c","$RefreshReg$"],"sources":["/Users/hongtenglee/Documents/geoviz-dashboard/client/src/components/FireCauseAnalysisDashboard.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\n\nexport const FireCauseAnalysisDashboard = ({ \n  causesData, \n  topCauses,\n  causeDefinitions,\n  selectedYear, \n  availableYears, \n  onYearChange, \n  onRefresh \n}) => {\n  const topCausesChartRef = useRef(null);\n  const causesByYearChartRef = useRef(null);\n  const monthlyCausesChartRef = useRef(null);\n  const [selectedCause, setSelectedCause] = useState(null);\n  const [showAllCauses, setShowAllCauses] = useState(false);\n  \n  useEffect(() => {\n    if (topCauses && topCauses.length > 0) {\n      createTopCausesChart();\n    }\n  }, [topCauses, showAllCauses]);\n  \n  useEffect(() => {\n    if (causesData && selectedYear && causesData[selectedYear]) {\n      createCausesByYearChart();\n      createMonthlyCausesChart();\n    }\n  }, [causesData, selectedYear, selectedCause]);\n  \n  // Format large numbers\n  const formatLargeNumber = (num) => {\n    if (num >= 1000000) {\n      return `${(num / 1000000).toFixed(1)}M`;\n    } else if (num >= 1000) {\n      return `${(num / 1000).toFixed(1)}K`;\n    }\n    return num;\n  };\n  \n  const getColorScale = () => {\n    return d3.scaleOrdinal()\n      .domain([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19])\n      .range([\n        '#e6194B', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#911eb4', \n        '#42d4f4', '#f032e6', '#bfef45', '#fabed4', '#469990', '#dcbeff', \n        '#9A6324', '#fffac8', '#800000', '#aaffc3', '#808000', '#ffd8b1', '#000075'\n      ]);\n  };\n  \n  const getCauseColor = (causeId) => {\n    const colorScale = getColorScale();\n    return colorScale(causeId);\n  };\n  \n  const createTopCausesChart = () => {\n    if (!topCausesChartRef.current) return;\n    \n    // Clear any existing chart\n    d3.select(topCausesChartRef.current).selectAll('*').remove();\n    \n    const margin = { top: 50, right: 120, bottom: 60, left: 80 };\n    const svgElement = topCausesChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 800, 800);\n    const height = 450;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    \n    // Create SVG\n    const svg = d3.select(svgElement)\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    \n    // Determine how many causes to show\n    const visibleCauses = showAllCauses ? topCauses : topCauses.slice(0, 8);\n    \n    // Define scales\n    const xScale = d3.scaleBand()\n      .domain(visibleCauses.map(d => d.causeId))\n      .range([0, chartWidth])\n      .padding(0.2);\n    \n    const yScale = d3.scaleLinear()\n      .domain([0, d3.max(visibleCauses, d => d.fires) * 1.1])\n      .range([chartHeight, 0]);\n    \n    // Create axes\n    svg.append('g')\n      .attr('transform', `translate(0,${chartHeight})`)\n      .call(d3.axisBottom(xScale)\n        .tickFormat(d => {\n          const cause = visibleCauses.find(c => c.causeId === d);\n          return cause ? cause.causeId : '';\n        }))\n      .selectAll('text')\n      .attr('transform', 'rotate(-45)')\n      .style('text-anchor', 'end')\n      .attr('dx', '-.8em')\n      .attr('dy', '.15em');\n    \n    svg.append('g')\n      .call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n    \n    // Add grid lines\n    svg.append('g')\n      .attr('class', 'grid-lines')\n      .selectAll('line')\n      .data(yScale.ticks())\n      .enter()\n      .append('line')\n      .attr('x1', 0)\n      .attr('y1', d => yScale(d))\n      .attr('x2', chartWidth)\n      .attr('y2', d => yScale(d))\n      .attr('stroke', '#e5e7eb')\n      .attr('stroke-dasharray', '3,3');\n    \n    // Add bars\n    svg.selectAll('bars')\n      .data(visibleCauses)\n      .enter()\n      .append('rect')\n      .attr('x', d => xScale(d.causeId))\n      .attr('y', d => yScale(d.fires))\n      .attr('width', xScale.bandwidth())\n      .attr('height', d => chartHeight - yScale(d.fires))\n      .attr('fill', d => getCauseColor(d.causeId))\n      .attr('rx', 4)\n      .attr('ry', 4);\n    \n    // Add percentage labels above bars\n    svg.selectAll('percent-labels')\n      .data(visibleCauses)\n      .enter()\n      .append('text')\n      .attr('x', d => xScale(d.causeId) + xScale.bandwidth() / 2)\n      .attr('y', d => yScale(d.fires) - 10)\n      .attr('text-anchor', 'middle')\n      .text(d => `${d.percentage}%`)\n      .style('font-size', '12px')\n      .style('font-weight', 'bold');\n    \n    // Add legend\n    const legend = svg.append('g')\n      .attr('class', 'legend')\n      .attr('transform', `translate(${chartWidth + 10}, 0)`);\n    \n    visibleCauses.forEach((cause, i) => {\n      const legendItem = legend.append('g')\n        .attr('transform', `translate(0, ${i * 20})`);\n      \n      legendItem.append('rect')\n        .attr('width', 12)\n        .attr('height', 12)\n        .attr('fill', getCauseColor(cause.causeId));\n      \n      legendItem.append('text')\n        .attr('x', 20)\n        .attr('y', 10)\n        .text(`${cause.causeId} - ${cause.causeName}`)\n        .style('font-size', '12px');\n    });\n    \n    // Add title\n    svg.append('text')\n      .attr('x', chartWidth / 2)\n      .attr('y', -30)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '16px')\n      .style('font-weight', 'bold')\n      .text('Top Fire Causes by Number of Fires');\n    \n    // Create tooltip\n    const tooltip = d3.select('body')\n      .selectAll('.tooltip')\n      .data([null])\n      .join('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n    \n    // Add hover effects with safe access to properties\n    svg.selectAll('rect')\n      .on('mouseover', function(event, d) {\n        try {\n          if (!d) return;\n          \n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr('opacity', 0.8);\n          \n          tooltip.transition()\n            .duration(200)\n            .style('opacity', 0.9);\n          \n          tooltip.html(`\n            <strong>${d.causeId} - ${d.causeName}</strong><br/>\n            Fires: ${d.fires.toLocaleString()}<br/>\n            Acres Burned: ${d.acres.toLocaleString()}<br/>\n            Percentage: ${d.percentage}%\n          `)\n            .style('left', (event.pageX + 10) + 'px')\n            .style('top', (event.pageY - 28) + 'px');\n        } catch (error) {\n          console.error('Error in top causes chart hover:', error);\n        }\n      })\n      .on('mouseout', function() {\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr('opacity', 1);\n        \n        tooltip.transition()\n          .duration(500)\n          .style('opacity', 0);\n      });\n    \n    // Add a button to show/hide all causes\n    d3.select(svgElement.parentNode)\n      .selectAll('.toggle-button')\n      .data([null])\n      .join('button')\n      .attr('class', 'toggle-button refresh-button')\n      .style('margin-top', '10px')\n      .style('margin-left', '10px')\n      .text(showAllCauses ? 'Show Top 8 Causes' : 'Show All Causes')\n      .on('click', function() {\n        setShowAllCauses(!showAllCauses);\n      });\n  };\n  \n  const createCausesByYearChart = () => {\n    if (!causesByYearChartRef.current || !causesData || !selectedYear || !causesData[selectedYear]) return;\n    \n    // Clear any existing chart\n    d3.select(causesByYearChartRef.current).selectAll('*').remove();\n    \n    const yearData = causesData[selectedYear].causes;\n    if (!yearData || yearData.length === 0) return;\n    \n    const margin = { top: 50, right: 120, bottom: 100, left: 80 };\n    const svgElement = causesByYearChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 900, 800);\n    const height = 400;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    \n    // Create SVG\n    const svg = d3.select(svgElement)\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    \n    // Determine how many causes to show (show top 8 causes for this year)\n    const visibleCauses = yearData.slice(0, 8);\n    \n    // Define scales\n    const xScale = d3.scaleBand()\n      .domain(visibleCauses.map(d => d.causeId))\n      .range([0, chartWidth])\n      .padding(0.2);\n    \n    const yScale = d3.scaleLinear()\n      .domain([0, d3.max(visibleCauses, d => d.fires) * 1.1])\n      .range([chartHeight, 0]);\n    \n    // Create axes\n    svg.append('g')\n      .attr('transform', `translate(0,${chartHeight})`)\n      .call(d3.axisBottom(xScale)\n        .tickFormat(d => {\n          const cause = visibleCauses.find(c => c.causeId === d);\n          return cause ? cause.causeId : '';\n        }))\n      .selectAll('text')\n      .attr('transform', 'rotate(-45)')\n      .style('text-anchor', 'end')\n      .attr('dx', '-.8em')\n      .attr('dy', '.15em');\n    \n    svg.append('g')\n      .call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n    \n    // Add grid lines\n    svg.append('g')\n      .attr('class', 'grid-lines')\n      .selectAll('line')\n      .data(yScale.ticks())\n      .enter()\n      .append('line')\n      .attr('x1', 0)\n      .attr('y1', d => yScale(d))\n      .attr('x2', chartWidth)\n      .attr('y2', d => yScale(d))\n      .attr('stroke', '#e5e7eb')\n      .attr('stroke-dasharray', '3,3');\n    \n    // Add bars\n    svg.selectAll('bars')\n      .data(visibleCauses)\n      .enter()\n      .append('rect')\n      .attr('x', d => xScale(d.causeId))\n      .attr('y', d => yScale(d.fires))\n      .attr('width', xScale.bandwidth())\n      .attr('height', d => chartHeight - yScale(d.fires))\n      .attr('fill', d => getCauseColor(d.causeId))\n      .attr('rx', 4)\n      .attr('ry', 4)\n      .attr('cursor', 'pointer')\n      .on('click', (event, d) => {\n        try {\n          if (!d) return;\n          setSelectedCause(selectedCause === d.causeId ? null : d.causeId);\n        } catch (error) {\n          console.error('Error handling click:', error);\n        }\n      });\n    \n    // Highlight the selected cause\n    if (selectedCause) {\n      svg.selectAll('rect')\n        .attr('opacity', d => {\n          try {\n            return d.causeId === selectedCause ? 1 : 0.3;\n          } catch (error) {\n            return 1;\n          }\n        });\n    }\n    \n    // Add legend\n    const legend = svg.append('g')\n      .attr('class', 'legend')\n      .attr('transform', `translate(${chartWidth + 10}, 0)`);\n    \n    visibleCauses.forEach((cause, i) => {\n      const legendItem = legend.append('g')\n        .attr('transform', `translate(0, ${i * 20})`);\n      \n      legendItem.append('rect')\n        .attr('width', 12)\n        .attr('height', 12)\n        .attr('fill', getCauseColor(cause.causeId));\n      \n      legendItem.append('text')\n        .attr('x', 20)\n        .attr('y', 10)\n        .text(`${cause.causeId} - ${cause.causeName}`)\n        .style('font-size', '12px');\n    });\n    \n    // Add title\n    svg.append('text')\n      .attr('x', chartWidth / 2)\n      .attr('y', -30)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '16px')\n      .style('font-weight', 'bold')\n      .text(`Top Fire Causes in ${selectedYear} (click to filter monthly chart)`);\n    \n    // Create tooltip\n    const tooltip = d3.select('body')\n      .selectAll('.tooltip')\n      .data([null])\n      .join('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n    \n    // Add hover effects with defensive coding\n    svg.selectAll('rect')\n      .on('mouseover', function(event, d) {\n        try {\n          if (!d) return;\n          \n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr('opacity', d.causeId === selectedCause ? 1 : 0.5);\n          \n          tooltip.transition()\n            .duration(200)\n            .style('opacity', 0.9);\n          \n          const totalFires = yearData.reduce((sum, cause) => sum + cause.fires, 0);\n          const percentage = Math.round((d.fires / totalFires) * 1000) / 10;\n          \n          tooltip.html(`\n            <strong>${d.causeId} - ${d.causeName}</strong><br/>\n            Fires: ${d.fires.toLocaleString()}<br/>\n            Acres Burned: ${d.acres.toLocaleString()}<br/>\n            Percentage: ${percentage}%<br/>\n            Click to filter monthly chart\n          `)\n            .style('left', (event.pageX + 10) + 'px')\n            .style('top', (event.pageY - 28) + 'px');\n        } catch (error) {\n          console.error('Error in yearly causes chart hover:', error);\n        }\n      })\n      .on('mouseout', function(event, d) {\n        try {\n          if (!d) return;\n          \n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr('opacity', d.causeId === selectedCause ? 1 : (selectedCause ? 0.3 : 1));\n          \n          tooltip.transition()\n            .duration(500)\n            .style('opacity', 0);\n        } catch (error) {\n          console.error('Error in mouseout handler:', error);\n        }\n      });\n  };\n  \n  const createMonthlyCausesChart = () => {\n    if (!monthlyCausesChartRef.current || !causesData || !selectedYear || !causesData[selectedYear]) return;\n    \n    // Clear any existing chart\n    d3.select(monthlyCausesChartRef.current).selectAll('*').remove();\n    \n    const yearData = causesData[selectedYear];\n    if (!yearData || !yearData.monthlyBreakdown) return;\n    \n    const months = [\n      'January', 'February', 'March', 'April', 'May', 'June',\n      'July', 'August', 'September', 'October', 'November', 'December'\n    ];\n    \n    // Prepare data for stacked bar chart\n    const monthlyCausesData = months.map(month => {\n      const monthData = { month };\n      \n      // Get monthly causes data\n      const monthCauses = yearData.monthlyBreakdown[month] || [];\n      \n      // If a cause is selected, only include that cause\n      if (selectedCause !== null) {\n        const selectedCauseData = monthCauses.find(c => c.causeId === selectedCause);\n        if (selectedCauseData) {\n          monthData[selectedCauseData.causeId] = selectedCauseData.fires;\n        } else {\n          monthData[selectedCause] = 0;\n        }\n      } else {\n        // Otherwise include top 5 causes for this year\n        const topCausesForYear = yearData.causes.slice(0, 5).map(c => c.causeId);\n        \n        topCausesForYear.forEach(causeId => {\n          const causeData = monthCauses.find(c => c.causeId === causeId);\n          monthData[causeId] = causeData ? causeData.fires : 0;\n        });\n      }\n      \n      return monthData;\n    });\n    \n    // Get cause IDs to stack\n    const causeIds = selectedCause !== null \n      ? [selectedCause] \n      : yearData.causes.slice(0, 5).map(c => c.causeId);\n    \n    const margin = { top: 40, right: 80, bottom: 120, left: 80 };\n    const svgElement = monthlyCausesChartRef.current;\n    const width = Math.max(svgElement.clientWidth || 800, 800);\n    const height = 400;\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    \n    // Create SVG\n    const svg = d3.select(svgElement)\n      .attr('width', width)\n      .attr('height', height)\n      .append('g')\n      .attr('transform', `translate(${margin.left},${margin.top})`);\n    \n    // Define scales\n    const xScale = d3.scaleBand()\n      .domain(months)\n      .range([0, chartWidth])\n      .padding(0.1);\n    \n    const yScale = d3.scaleLinear()\n      .domain([0, d3.max(monthlyCausesData, d => {\n        return d3.sum(causeIds, causeId => d[causeId] || 0);\n      }) * 1.1])\n      .range([chartHeight, 0]);\n    \n    // Create stacked data\n    const stack = d3.stack()\n      .keys(causeIds)\n      .order(d3.stackOrderNone)\n      .offset(d3.stackOffsetNone);\n    \n    const stackedData = stack(monthlyCausesData);\n    \n    // Create axes\n    svg.append('g')\n      .attr('transform', `translate(0,${chartHeight})`)\n      .call(d3.axisBottom(xScale))\n      .selectAll('text')\n      .attr('transform', 'rotate(-45)')\n      .style('text-anchor', 'end')\n      .attr('dx', '-.8em')\n      .attr('dy', '.15em')\n      .style('font-size', '10px');\n    \n    svg.append('g')\n      .call(d3.axisLeft(yScale).tickFormat(d => formatLargeNumber(d)));\n    \n    // Add grid lines\n    svg.append('g')\n      .attr('class', 'grid-lines')\n      .selectAll('line')\n      .data(yScale.ticks())\n      .enter()\n      .append('line')\n      .attr('x1', 0)\n      .attr('y1', d => yScale(d))\n      .attr('x2', chartWidth)\n      .attr('y2', d => yScale(d))\n      .attr('stroke', '#e5e7eb')\n      .attr('stroke-dasharray', '3,3');\n    \n    // Add stacked bars\n    const stackGroups = svg.append('g')\n      .selectAll('g')\n      .data(stackedData)\n      .enter()\n      .append('g')\n      .attr('fill', d => getCauseColor(parseInt(d.key)));\n    \n    // Store the stack group key in a data attribute for easier access in event handlers\n    stackGroups.each(function(d) {\n      d3.select(this).attr('data-key', d.key);\n    });\n    \n    stackGroups.selectAll('rect')\n      .data(d => d)\n      .enter()\n      .append('rect')\n      .attr('x', d => xScale(d.data.month))\n      .attr('y', d => yScale(d[1]))\n      .attr('height', d => yScale(d[0]) - yScale(d[1]))\n      .attr('width', xScale.bandwidth());\n    \n    // Add legend\n    const legend = svg.append('g')\n      .attr('class', 'legend')\n      .attr('transform', `translate(${chartWidth + 10}, 0)`);\n    \n    causeIds.forEach((causeId, i) => {\n      const cause = yearData.causes.find(c => c.causeId === causeId) || \n                    { causeId, causeName: causeDefinitions[causeId] || `Unknown (${causeId})` };\n      \n      const legendItem = legend.append('g')\n        .attr('transform', `translate(0, ${i * 20})`);\n      \n      legendItem.append('rect')\n        .attr('width', 12)\n        .attr('height', 12)\n        .attr('fill', getCauseColor(causeId));\n      \n      legendItem.append('text')\n        .attr('x', 20)\n        .attr('y', 10)\n        .text(`${causeId} - ${cause.causeName}`)\n        .style('font-size', '12px');\n    });\n    \n    // Add title with more space\n    svg.append('text')\n      .attr('x', chartWidth / 2)\n      .attr('y', -30)\n      .attr('text-anchor', 'middle')\n      .style('font-size', '16px')\n      .style('font-weight', 'bold')\n      .text(selectedCause \n        ? `Monthly Distribution of \"${causeDefinitions[selectedCause]}\" Fires in ${selectedYear}` \n        : `Monthly Distribution of Top Fire Causes in ${selectedYear}`);\n    \n    // Create tooltip\n    const tooltip = d3.select('body')\n      .selectAll('.tooltip')\n      .data([null])\n      .join('div')\n      .attr('class', 'tooltip')\n      .style('opacity', 0);\n    \n    // Enhanced hover event handlers with error handling\n    svg.selectAll('rect')\n      .on('mouseover', function(event, d) {\n        try {\n          if (!d || !d.data) return;\n          \n          d3.select(this)\n            .transition()\n            .duration(200)\n            .attr('opacity', 0.8);\n          \n          // Get the cause ID from the parent group's data-key attribute\n          const parentGroup = this.parentNode;\n          if (!parentGroup) return;\n          \n          const causeIdStr = d3.select(parentGroup).attr('data-key');\n          if (!causeIdStr) return;\n          \n          const causeId = parseInt(causeIdStr);\n          const causeName = causeDefinitions[causeId] || `Unknown (${causeId})`;\n          const monthData = d.data;\n          \n          tooltip.transition()\n            .duration(200)\n            .style('opacity', 0.9);\n          \n          tooltip.html(`\n            <strong>${monthData.month} ${selectedYear}</strong><br/>\n            Cause: ${causeId} - ${causeName}<br/>\n            Fires: ${(monthData[causeId] || 0).toLocaleString()}\n          `)\n            .style('left', (event.pageX + 10) + 'px')\n            .style('top', (event.pageY - 28) + 'px');\n        } catch (error) {\n          console.error('Error in monthly causes chart hover:', error);\n        }\n      })\n      .on('mouseout', function() {\n        d3.select(this)\n          .transition()\n          .duration(200)\n          .attr('opacity', 1);\n        \n        tooltip.transition()\n          .duration(500)\n          .style('opacity', 0);\n      });\n    \n    // Add a button to clear the selected cause filter\n    if (selectedCause !== null) {\n      d3.select(svgElement.parentNode)\n        .selectAll('.clear-filter-button')\n        .data([null])\n        .join('button')\n        .attr('class', 'clear-filter-button refresh-button')\n        .style('margin-top', '10px')\n        .style('margin-left', '10px')\n        .text('Clear Cause Filter')\n        .on('click', function() {\n          setSelectedCause(null);\n        });\n    }\n  };\n  \n  // Create a table of fire causes with their descriptions\n  const renderCauseDefinitionsTable = () => {\n    return (\n      <div className=\"chart-container\">\n        <h3 className=\"section-title\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"section-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n          </svg>\n          Fire Cause Reference Guide\n        </h3>\n        <div className=\"chart-description\">\n          Reference of fire cause codes and their definitions as per CAL FIRE classification.\n        </div>\n        <div className=\"data-table\">\n          <table className=\"monthly-table\">\n            <thead>\n              <tr>\n                <th>Code</th>\n                <th>Cause Name</th>\n                <th>Description</th>\n              </tr>\n            </thead>\n            <tbody>\n              {Object.entries(causeDefinitions).map(([code, name]) => (\n                <tr key={code}>\n                  <td>{code}</td>\n                  <td>{name}</td>\n                  <td>{getCauseDescription(parseInt(code))}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    );\n  };\n  \n  // Helper function to provide descriptions for fire causes\n  const getCauseDescription = (causeId) => {\n    switch(causeId) {\n      case 1: return \"Fires caused by natural lightning strikes.\";\n      case 2: return \"Fires caused by equipment use, such as chainsaws, tractors, or other machinery.\";\n      case 3: return \"Fires caused by improperly discarded cigarettes, cigars, or other smoking materials.\";\n      case 4: return \"Fires that escape from recreational or warming campfires.\";\n      case 5: return \"Fires from burning of yard waste or other debris that escape control.\";\n      case 6: return \"Fires caused by railroad operations, such as sparks from train wheels or maintenance.\";\n      case 7: return \"Fires intentionally set by individuals with malicious intent.\";\n      case 8: return \"Fires caused by children or others playing with matches, lighters, or fire.\";\n      case 9: return \"Fires that don't fall into other specific categories.\";\n      case 10: return \"Fires caused by vehicles, including exhaust systems, catalytic converters, or accidents.\";\n      case 11: return \"Fires caused by electrical power lines or related equipment.\";\n      case 12: return \"Fires that occur during official firefighter training exercises.\";\n      case 13: return \"Fires that occur during non-firefighter training exercises or activities.\";\n      case 14: return \"Fires where the cause could not be determined after investigation.\";\n      case 15: return \"Fires that start from structures and spread to wildland areas.\";\n      case 16: return \"Fires caused by aircraft crashes or related incidents.\";\n      case 17: return \"Fires caused by volcanic activity.\";\n      case 18: return \"Controlled burns that escape their intended boundaries.\";\n      case 19: return \"Fires specifically linked to campfires made by undocumented immigrants.\";\n      default: return \"No description available.\";\n    }\n  };\n  \n  return (\n    <div className=\"fire-causes-dashboard\">\n      <div className=\"dashboard-header\">\n        <h2 className=\"dashboard-title\">Fire Cause Analysis Dashboard</h2>\n        <p className=\"dashboard-description\">\n          Analysis of wildfire causes across years and seasons, identifying top contributors to fire ignitions\n        </p>\n      </div>\n      \n      {/* Year selector and summary */}\n      <div className=\"year-selection-container\">\n        <div className=\"year-selector\">\n          <label htmlFor=\"cause-year-select\" className=\"year-selector-label\">Select Year for Analysis:</label>\n          <select\n            id=\"cause-year-select\"\n            className=\"year-selector-dropdown\"\n            value={selectedYear || ''}\n            onChange={(e) => onYearChange(e.target.value)}\n            disabled={availableYears.length === 0}\n          >\n            {availableYears.map(year => (\n              <option key={year} value={year}>\n                {year}\n              </option>\n            ))}\n          </select>\n        </div>\n        \n        <div className=\"year-summary\">\n          <div className=\"year-summary-item\">\n            <div className=\"summary-label\">Selected Year:</div>\n            <div className=\"summary-value\">{selectedYear || 'All Years'}</div>\n          </div>\n          {selectedCause && (\n            <div className=\"year-summary-item\">\n              <div className=\"summary-label\">Filtered Cause:</div>\n              <div className=\"summary-value\">{selectedCause}</div>\n            </div>\n          )}\n          <div className=\"refresh-button-container\">\n            <button className=\"refresh-button\" onClick={onRefresh}>\n              Refresh Data\n            </button>\n          </div>\n        </div>\n      </div>    \n        <div className=\"chart-container\">\n            <h3 className=\"section-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"section-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n            </svg>\n            Top Fire Causes\n            </h3>\n            <div className=\"chart-description\">\n            Analysis of the top fire causes based on the number of fires and acres burned.\n            </div>\n            <svg ref={topCausesChartRef} className=\"chart-svg\"></svg>\n        </div>\n        <div className=\"chart-container\">\n            <h3 className=\"section-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"section-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n            </svg>\n            Top Fire Causes by Year\n            </h3>\n            <div className=\"chart-description\">\n            Analysis of the top fire causes for the selected year.\n            </div>\n            <svg ref={causesByYearChartRef} className=\"chart-svg\"></svg>\n        </div>\n        <div className=\"chart-container\">\n            <h3 className=\"section-title\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"section-icon\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n            </svg>\n            Monthly Fire Causes\n            </h3>\n            <div className=\"chart-description\">\n            Monthly breakdown of fire causes for the selected year.\n            </div>\n            <svg ref={monthlyCausesChartRef} className=\"chart-svg\"></svg>\n        </div>\n        {renderCauseDefinitionsTable()}\n    </div>\n  );\n}\n\nexport default FireCauseAnalysisDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}